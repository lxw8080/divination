# AIç®—å¦å¾®ä¿¡å°ç¨‹åºå¼€å‘æŒ‡å¼•æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®ç®€ä»‹
å°†åŸºäºNext.jsçš„AIç®—å¦Webåº”ç”¨ç§»æ¤ä¸ºå¾®ä¿¡å°ç¨‹åºï¼Œä¿æŒæ ¸å¿ƒåŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒçš„åŒæ—¶ï¼Œåˆ©ç”¨å¾®ä¿¡å°ç¨‹åºçš„ç”Ÿæ€ä¼˜åŠ¿ã€‚

### æ ¸å¿ƒåŠŸèƒ½
- **ç¡¬å¸åœç­®**: 3Dç¡¬å¸ç¿»è½¬åŠ¨ç”»ï¼Œå…­æ¬¡ç”Ÿæˆå¦è±¡
- **å¦è±¡è®¡ç®—**: åŸºäºä¼ ç»Ÿå‘¨æ˜“ç®—æ³•çš„å…­çˆ»è®¡ç®—
- **AIè§£è¯»**: é›†æˆOpenAI APIçš„æ™ºèƒ½å¦è±¡è§£è¯»
- **å†å²è®°å½•**: ç”¨æˆ·åœç­®è®°å½•ä¿å­˜å’Œç®¡ç†
- **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæ˜æš—ä¸»é¢˜è‡ªé€‚åº”

### æŠ€æœ¯æ¶æ„
- **å‰ç«¯**: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿå¼€å‘
- **åç«¯**: å¾®ä¿¡äº‘å¼€å‘ (äº‘å‡½æ•° + äº‘æ•°æ®åº“)
- **AIæœåŠ¡**: OpenAI APIé›†æˆ
- **æ•°æ®å­˜å‚¨**: äº‘æ•°æ®åº“ + æœ¬åœ°ç¼“å­˜

---

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒæ­å»º

### å‰ç½®è¦æ±‚
- å¾®ä¿¡å¼€å‘è€…å·¥å…· (æœ€æ–°ç‰ˆ)
- Node.js 16+
- å¾®ä¿¡å°ç¨‹åºå¼€å‘è´¦å·
- OpenAI API Key

### ç¯å¢ƒé…ç½®æ­¥éª¤

#### 1. ä¸‹è½½å¹¶å®‰è£…å¾®ä¿¡å¼€å‘è€…å·¥å…·
```bash
# è®¿é—® https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html
# ä¸‹è½½å¯¹åº”å¹³å°çš„å¼€å‘å·¥å…·å¹¶å®‰è£…
```

#### 2. åˆ›å»ºå°ç¨‹åºé¡¹ç›®
1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. é€‰æ‹©"å°ç¨‹åºé¡¹ç›®"
3. å¡«å†™é¡¹ç›®ä¿¡æ¯:
   - é¡¹ç›®åç§°: AIç®—å¦
   - ç›®å½•: é€‰æ‹©é¡¹ç›®ç›®å½•
   - AppID: æµ‹è¯•å·æˆ–å·²æœ‰AppID
   - å¼€å‘æ¨¡å¼: å°ç¨‹åº
   - åç«¯æœåŠ¡: å¾®ä¿¡äº‘å¼€å‘

#### 3. åˆå§‹åŒ–äº‘å¼€å‘ç¯å¢ƒ
```javascript
// åœ¨ app.js ä¸­åˆå§‹åŒ–äº‘å¼€å‘
App({
  onLaunch() {
    if (!wx.cloud) {
      console.error('è¯·ä½¿ç”¨ 2.2.3 æˆ–ä»¥ä¸Šçš„åŸºç¡€åº“ä»¥ä½¿ç”¨äº‘èƒ½åŠ›');
    } else {
      wx.cloud.init({
        env: 'your-env-id', // äº‘å¼€å‘ç¯å¢ƒID
        traceUser: true,
      });
    }
  }
});
```

#### 4. é…ç½®é¡¹ç›®ç»“æ„
```
miniprogram/
â”œâ”€â”€ pages/                    # é¡µé¢æ–‡ä»¶
â”œâ”€â”€ components/              # è‡ªå®šä¹‰ç»„ä»¶
â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”œâ”€â”€ styles/                  # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ images/                  # å›¾ç‰‡èµ„æº
â”œâ”€â”€ app.js                   # å°ç¨‹åºé€»è¾‘
â”œâ”€â”€ app.json                 # å°ç¨‹åºé…ç½®
â””â”€â”€ app.wxss                 # å…¨å±€æ ·å¼

cloudfunctions/              # äº‘å‡½æ•°ç›®å½•
â”œâ”€â”€ getAIInterpretation/     # AIè§£è¯»æœåŠ¡
â”œâ”€â”€ getHexagramData/        # å¦è±¡æ•°æ®æœåŠ¡
â””â”€â”€ saveDivinationRecord/   # è®°å½•ä¿å­˜æœåŠ¡
```

---

## ğŸ“… å¼€å‘è®¡åˆ’ä¸é‡Œç¨‹ç¢‘

### ç¬¬ä¸€é˜¶æ®µ: åŸºç¡€æ¡†æ¶æ­å»º (2-3å‘¨)

#### Week 1: é¡¹ç›®åˆå§‹åŒ–
- [ ] åˆ›å»ºå°ç¨‹åºé¡¹ç›®
- [ ] é…ç½®äº‘å¼€å‘ç¯å¢ƒ
- [ ] æ­å»ºåŸºç¡€é¡µé¢ç»“æ„
- [ ] å®ç°å¯¼èˆªå’Œè·¯ç”±
- [ ] é…ç½®å…¨å±€æ ·å¼å’Œä¸»é¢˜

**äº¤ä»˜ç‰©**:
- å¯è¿è¡Œçš„å°ç¨‹åºæ¡†æ¶
- åŸºç¡€é¡µé¢ç»“æ„
- ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½

#### Week 2: æ ¸å¿ƒç»„ä»¶å¼€å‘
- [ ] å¼€å‘ç¡¬å¸åŠ¨ç”»ç»„ä»¶
- [ ] å®ç°å¦è±¡æ˜¾ç¤ºç»„ä»¶
- [ ] åˆ›å»ºé—®é¢˜è¾“å…¥ç»„ä»¶
- [ ] å®ç°åŸºç¡€åœç­®æµç¨‹

**äº¤ä»˜ç‰©**:
- ç¡¬å¸ç¿»è½¬åŠ¨ç”»æ•ˆæœ
- å…­çˆ»æ˜¾ç¤ºç•Œé¢
- é—®é¢˜è¾“å…¥è¡¨å•

#### Week 3: åœç­®ç®—æ³•å®ç°
- [ ] ç§»æ¤å¦è±¡è®¡ç®—ç®—æ³•
- [ ] å®ç°å…­çˆ»ç”Ÿæˆé€»è¾‘
- [ ] é›†æˆå‘¨æ˜“æ•°æ®
- [ ] æµ‹è¯•ç®—æ³•å‡†ç¡®æ€§

**äº¤ä»˜ç‰©**:
- å®Œæ•´çš„åœç­®åŠŸèƒ½
- å‡†ç¡®çš„å¦è±¡è®¡ç®—
- åŸºç¡€ç»“æœå±•ç¤º

### ç¬¬äºŒé˜¶æ®µ: äº‘æœåŠ¡é›†æˆ (2-3å‘¨)

#### Week 4: äº‘æ•°æ®åº“è®¾è®¡
- [ ] è®¾è®¡æ•°æ®åº“é›†åˆç»“æ„
- [ ] åˆ›å»ºå¦è±¡æ•°æ®é›†
- [ ] å®ç°æ•°æ®è¿ç§»è„šæœ¬
- [ ] é…ç½®æ•°æ®åº“ç´¢å¼•

**äº¤ä»˜ç‰©**:
- å®Œæ•´çš„æ•°æ®åº“è®¾è®¡
- åˆå§‹åŒ–æ•°æ®è„šæœ¬
- æ•°æ®è®¿é—®æ¥å£

#### Week 5: äº‘å‡½æ•°å¼€å‘
- [ ] å¼€å‘AIè§£è¯»äº‘å‡½æ•°
- [ ] å®ç°å¦è±¡æ•°æ®æœåŠ¡
- [ ] åˆ›å»ºè®°å½•ä¿å­˜åŠŸèƒ½
- [ ] é…ç½®é”™è¯¯å¤„ç†æœºåˆ¶

**äº¤ä»˜ç‰©**:
- æ ¸å¿ƒäº‘å‡½æ•°æœåŠ¡
- APIæ¥å£æ–‡æ¡£
- é”™è¯¯å¤„ç†æœºåˆ¶

#### Week 6: AIæœåŠ¡é›†æˆ
- [ ] é›†æˆOpenAI API
- [ ] å®ç°è½®è¯¢/å¢é‡æ‹‰å–çš„å“åº”æ›´æ–°
- [ ] ä¼˜åŒ–æç¤ºè¯å·¥ç¨‹
- [ ] æµ‹è¯•AIè§£è¯»è´¨é‡

**äº¤ä»˜ç‰©**:
- å®Œæ•´çš„AIè§£è¯»åŠŸèƒ½
- å¢é‡å¼å“åº”ä½“éªŒ
- æç¤ºè¯ä¼˜åŒ–æ–¹æ¡ˆ

### ç¬¬ä¸‰é˜¶æ®µ: åŠŸèƒ½å®Œå–„ (2-3å‘¨)

#### Week 7: ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] å®Œå–„åŠ¨ç”»æ•ˆæœ
- [ ] ä¼˜åŒ–åŠ è½½çŠ¶æ€
- [ ] å®ç°é”™è¯¯æç¤º
- [ ] æ·»åŠ éŸ³æ•ˆåé¦ˆ

**äº¤ä»˜ç‰©**:
- æµç•…çš„ç”¨æˆ·ä½“éªŒ
- å®Œå–„çš„çŠ¶æ€åé¦ˆ
- éŸ³æ•ˆå’ŒåŠ¨ç”»

#### Week 8: å†å²è®°å½•åŠŸèƒ½
- [ ] å®ç°è®°å½•ä¿å­˜
- [ ] å¼€å‘å†å²åˆ—è¡¨
- [ ] æ·»åŠ æœç´¢åŠŸèƒ½
- [ ] å®ç°è®°å½•è¯¦æƒ…

**äº¤ä»˜ç‰©**:
- ç”¨æˆ·å†å²è®°å½•
- è®°å½•ç®¡ç†åŠŸèƒ½
- æœç´¢å’Œç­›é€‰

#### Week 9: é«˜çº§åŠŸèƒ½
- [ ] å®ç°åˆ†äº«åŠŸèƒ½
- [ ] æ·»åŠ æ”¶è—åŠŸèƒ½
- [ ] å¼€å‘ç”¨æˆ·ä¸­å¿ƒ
- [ ] é›†æˆç»Ÿè®¡åˆ†æ

**äº¤ä»˜ç‰©**:
- åˆ†äº«å’Œæ”¶è—åŠŸèƒ½
- ç”¨æˆ·ä¸ªäººä¸­å¿ƒ
- æ•°æ®ç»Ÿè®¡åˆ†æ

### ç¬¬å››é˜¶æ®µ: æµ‹è¯•ä¸ä¼˜åŒ– (1-2å‘¨)

#### Week 10: å…¨é¢æµ‹è¯•
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] å…¼å®¹æ€§æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] ç”¨æˆ·ä½“éªŒæµ‹è¯•

#### Week 11: ä¼˜åŒ–å’Œå‡†å¤‡ä¸Šçº¿
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] Bugä¿®å¤
- [ ] å‡†å¤‡å®¡æ ¸ææ–™
- [ ] éƒ¨ç½²ä¸Šçº¿

---

## ğŸ§© æ ¸å¿ƒåŠŸèƒ½å®ç°æŒ‡å—

### 1. ç¡¬å¸åŠ¨ç”»ç»„ä»¶

#### ç»„ä»¶ç»“æ„
```javascript
// components/coin-flip/coin-flip.js
Component({
  properties: {
    count: { type: Number, value: 1 },
    isFlipping: { type: Boolean, value: false },
    duration: { type: Number, value: 2000 }
  },

  data: {
    results: [],
    animations: []
  },

  methods: {
    startFlip() {
      // ç”Ÿæˆéšæœºç»“æœ
      const results = Array(this.data.count).fill(0).map(() => Math.random() > 0.5);

      // åˆ›å»ºåŠ¨ç”»
      const animations = this.createFlipAnimations();

      this.setData({ results, animations });

      // åŠ¨ç”»å®Œæˆåè§¦å‘äº‹ä»¶
      setTimeout(() => {
        this.triggerEvent('flipcomplete', { results });
      }, this.data.duration);
    },

    createFlipAnimations() {
      const animation = wx.createAnimation({
        duration: this.data.duration,
        timingFunction: 'ease-in-out'
      });

      return Array(this.data.count).fill(0).map((_, index) => {
        return animation
          .rotateY(1800 + index * 200) // åŸºç¡€ç¿»è½¬ + éšæœºåç§»
          .step()
          .export();
      });
    }
  }
});
```

#### æ ·å¼å®ç°
```css
/* components/coin-flip/coin-flip.wxss */
.coin-container {
  display: flex;
  justify-content: center;
  gap: 30rpx;
  padding: 40rpx;
}

.coin {
  width: 120rpx;
  height: 120rpx;
  border-radius: 50%;
  position: relative;
  transform-style: preserve-3d;
  box-shadow: 0 8rpx 16rpx rgba(0, 0, 0, 0.2);
}

.coin-side {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 48rpx;
  font-weight: bold;
  backface-visibility: hidden;
}

.heads-side {
  background: linear-gradient(135deg, #FFD700, #FFA500);
  color: #8B4513;
}

.tails-side {
  background: linear-gradient(135deg, #C0C0C0, #808080);
  color: #2F4F4F;
  transform: rotateY(180deg);
}
```

### 2. å¦è±¡è®¡ç®—ç®—æ³•

#### æ ¸å¿ƒç®—æ³•ç§»æ¤
```javascript
// utils/divination-algorithm.js
class DivinationCalculator {
  constructor() {
    // å¦è±¡åç§°æ˜ å°„
    this.guaNames = [
      'ä¹¾', 'å¤', 'å±¯', 'è’™', 'éœ€', 'è®¼', 'å¸ˆ', 'æ¯”',
      // ... å…¶ä»–56ä¸ªå¦å
    ];

    // çˆ»ä½åç§°
    this.positionNames = ['åˆ', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'ä¸Š'];
    this.yangSuffix = 'ä¹';
    this.yinSuffix = 'å…­';

    // å¦è±¡ç´¢å¼•çŸ©é˜µ (ä»åŸé¡¹ç›®ç§»æ¤)
    this.guaIndexMatrix = [
      [2, 24, 7, 19, 15, 36, 46, 11],
      [16, 51, 40, 54, 62, 55, 32, 34],
      // ... å®Œæ•´çš„8x8çŸ©é˜µ
    ];
  }

  // è®¡ç®—å¦è±¡
  calculateHexagram(coinResults) {
    // å°†å…­æ¬¡ç¡¬å¸ç»“æœè½¬æ¢ä¸ºå…­çˆ»
    const lines = coinResults.map((coins, index) => {
      const headsCount = coins.filter(coin => coin).length;

      return {
        position: 6 - index, // ä»ä¸‹å¾€ä¸Šç¼–å·
        isYang: headsCount >= 2,
        isChanging: headsCount === 0 || headsCount === 3,
        positionName: this.getPositionName(index, headsCount >= 2),
        coinResults: coins
      };
    });

    // è®¡ç®—ä¸Šä¸‹å¦
    const upperTrigram = this.calculateTrigram(lines.slice(0, 3));
    const lowerTrigram = this.calculateTrigram(lines.slice(3, 6));

    // è·å–å¦è±¡ä¿¡æ¯
    const hexagramInfo = this.getHexagramInfo(upperTrigram, lowerTrigram);

    return {
      lines: lines,
      upperTrigram: upperTrigram,
      lowerTrigram: lowerTrigram,
      ...hexagramInfo,
      changingLines: lines.filter(line => line.isChanging)
    };
  }

  // è®¡ç®—å•å¦ (ä¸‰çˆ»)
  calculateTrigram(lines) {
    let index = 0;
    lines.forEach((line, i) => {
      if (line.isYang) {
        index += Math.pow(2, 2 - i);
      }
    });

    const trigramNames = ['å¤', 'éœ‡', 'å', 'å…‘', 'è‰®', 'ç¦»', 'å·½', 'ä¹¾'];
    return {
      name: trigramNames[index],
      index: index,
      lines: lines
    };
  }

  // è·å–çˆ»ä½åç§°
  getPositionName(index, isYang) {
    const position = this.positionNames[index];
    const suffix = isYang ? this.yangSuffix : this.yinSuffix;
    return position + suffix;
  }

  // è·å–å¦è±¡è¯¦ç»†ä¿¡æ¯
  getHexagramInfo(upperTrigram, lowerTrigram) {
    const upperIndex = upperTrigram.index;
    const lowerIndex = lowerTrigram.index;

    // ä½¿ç”¨ç´¢å¼•çŸ©é˜µè·å–å¦åº
    const guaNumber = this.guaIndexMatrix[upperIndex][lowerIndex];
    const guaName = this.guaNames[guaNumber - 1];

    // æ„å»ºå¦è±¡æ ‡è¯†
    const guaMark = `${guaNumber.toString().padStart(2, '0')}.${upperTrigram.name}${lowerTrigram.name}`;
    const guaTitle = `å‘¨æ˜“ç¬¬${guaNumber}å¦`;

    return {
      guaNumber: guaNumber,
      guaMark: guaMark,
      guaTitle: guaTitle,
      guaName: guaName,
      upperTrigramName: upperTrigram.name,
      lowerTrigramName: lowerTrigram.name
    };
  }
}

export default new DivinationCalculator();
```

### 3. äº‘å‡½æ•°å¼€å‘

#### AIè§£è¯»äº‘å‡½æ•°
```javascript
// cloudfunctions/getAIInterpretation/index.js
const cloud = require('wx-server-sdk');
const axios = require('axios');

cloud.init();

const OPENAI_BASE_URL = process.env.OPENAI_BASE_URL || 'https://api.openai.com/v1';

exports.main = async (event, context) => {
  const { question, hexagramData } = event;

  try {
    // 1. è·å–å¦è±¡è¯¦ç»†ä¿¡æ¯
    const hexagramDetail = await getHexagramDetail(hexagramData.guaMark);

    // 2. æ„å»ºAIæç¤ºè¯
    const prompt = buildPrompt(question, hexagramData, hexagramDetail);

    // 3. è°ƒç”¨OpenAI APIï¼ˆä¸€æ¬¡æ€§è¿”å›ï¼‰
    const interpretation = await getAIInterpretation(prompt);

    // 4. å¼‚æ­¥ä¿å­˜è®°å½•
    await saveDivinationRecord(context.OPENID, {
      question,
      hexagramData,
      interpretation: interpretation.substring(0, 500)
    });

    return {
      success: true,
      data: interpretation,
      metadata: {
        hexagramName: hexagramData.guaName,
        responseTime: Date.now()
      }
    };

  } catch (error) {
    console.error('AIè§£è¯»å¤±è´¥:', error);
    return {
      success: false,
      error: error.message
    };
  }
};

// æ„å»ºAIæç¤ºè¯
function buildPrompt(question, hexagramData, hexagramDetail) {
  return `ä½ æ˜¯ä¸€ä½ç²¾é€šã€Šå‘¨æ˜“ã€‹çš„AIåŠ©æ‰‹ï¼Œæ ¹æ®ç”¨æˆ·æä¾›çš„å¦è±¡å’Œé—®é¢˜ï¼Œæä¾›å‡†ç¡®çš„å¦è±¡è§£è¯»å’Œå®ç”¨å»ºè®®ã€‚

ä»»åŠ¡è¦æ±‚ï¼šé€»è¾‘æ¸…æ™°ï¼Œè¯­æ°”å¾—å½“
1. è§£è¯»å¦è±¡ï¼šåˆ†æä¸»å¦ã€å˜çˆ»åŠå˜å¦ï¼Œè§£è¯»æ•´ä½“è¶‹åŠ¿å’Œå‰å‡¶
2. å…³è”é—®é¢˜ï¼šé’ˆå¯¹ç”¨æˆ·é—®é¢˜ï¼Œç»“åˆå¦è±¡ä¿¡æ¯ï¼Œæä¾›å…·ä½“åˆ†æ
3. æä¾›å»ºè®®ï¼šæ ¹æ®å¦è±¡å¯ç¤ºï¼Œç»™å‡ºåˆ‡å®å¯è¡Œçš„å»ºè®®ï¼Œå¸®åŠ©ç”¨æˆ·è§£å†³å®é™…é—®é¢˜

æˆ‘æ‘‡åˆ°çš„å¦è±¡ï¼š${hexagramData.guaTitle} ${hexagramData.guaName}å¦
æˆ‘çš„é—®é¢˜ï¼š${question}

${hexagramDetail.explain || ''}

${hexagramData.changingLines.map(line => `${line.positionName}ï¼š${getChangingLineExplanation(line)}`).join('\n')}`;
}

// è·å–AIè§£è¯»
async function getAIInterpretation(prompt) {
  const response = await axios.post(
    `${OPENAI_BASE_URL}/chat/completions`,
    {
      model: process.env.OPENAI_MODEL || 'gpt-4o-mini',
      messages: [
        {
          role: 'system',
          content: 'ä½ æ˜¯ä¸€ä½ç²¾é€šã€Šå‘¨æ˜“ã€‹çš„AIåŠ©æ‰‹ï¼Œæ ¹æ®ç”¨æˆ·æä¾›çš„å¦è±¡å’Œé—®é¢˜ï¼Œæä¾›å‡†ç¡®çš„å¦è±¡è§£è¯»å’Œå®ç”¨å»ºè®®ã€‚'
        },
        {
          role: 'user',
          content: prompt
        }
      ],
      temperature: 0.5
    },
    {
      headers: {
        Authorization: `Bearer ${process.env.OPENAI_API_KEY}`,
        'Content-Type': 'application/json'
      },
      timeout: 15000
    }
  );

  return response.data?.choices?.[0]?.message?.content || '';
}

function getChangingLineExplanation(line) {
  // æ ¹æ®é¡¹ç›®éœ€è¦è¡¥å……å˜çˆ»å«ä¹‰æ˜ å°„ï¼Œè¿™é‡Œç»™å‡ºå ä½ç¤ºä¾‹
  const explanations = {
    'åˆå…­': 'åˆçˆ»ä¸ºé˜´ï¼Œæé†’è°¨æ…èµ·æ­¥ã€‚',
    'ä¹äºŒ': 'ä¹äºŒä¸ºé˜³ï¼Œè±¡å¾ç¨³æ­¥æ¨è¿›ã€‚'
    // ...è¡¥å……å®Œæ•´çš„å˜çˆ»è§£é‡Š
  };

  return explanations[line.positionName] || 'å‚è€ƒã€Šå‘¨æ˜“ã€‹åŸæ–‡è§£è¯»ã€‚';
}
```

> ä¾èµ–æç¤ºï¼šåœ¨äº‘å‡½æ•°æ ¹ç›®å½•çš„ `package.json` ä¸­æ·»åŠ  `"axios": "^1.7.0"`ï¼Œå¹¶ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·åŒæ­¥ä¾èµ–åå†ä¸Šä¼ éƒ¨ç½²ã€‚

#### å°ç¨‹åºç«¯å¢é‡æ‹‰å–ç¤ºä¾‹
```javascript
// utils/poll-ai-result.js
const POLLING_INTERVAL = 1200;

export function pollAIResult(taskId, { onData, onError, onComplete }) {
  let timer = null;

  function request() {
    wx.cloud
      .callFunction({
        name: 'getAIResultStatus',
        data: { taskId }
      })
      .then(({ result }) => {
        if (result.error) {
          onError?.(result.error);
          clearInterval(timer);
          return;
        }

        onData?.(result.partialAnswer || '');

        if (result.status === 'completed') {
          clearInterval(timer);
          onComplete?.(result.fullAnswer);
        }
      })
      .catch(err => {
        clearInterval(timer);
        onError?.(err.message || err);
      });
  }

  timer = setInterval(request, POLLING_INTERVAL);
  request();

  return () => clearInterval(timer);
}
```

> è¯´æ˜ï¼šäº‘å‡½æ•°éœ€åœ¨å†™å…¥æ•°æ®åº“æ—¶åŒæ­¥æ›´æ–° `taskId` å¯¹åº”çš„è¿›åº¦å­—æ®µï¼Œå°ç¨‹åºç«¯é€šè¿‡å®šæ—¶è½®è¯¢å±•ç°â€œæ‹Ÿæµå¼â€çš„ä½“éªŒã€‚

### 4. ä¸»é¢˜ç®¡ç†

#### ä¸»é¢˜ç®¡ç†å™¨
```javascript
// utils/theme-manager.js
class ThemeManager {
  constructor() {
    this.themes = {
      light: {
        primary: '#2C3E50',
        background: '#FFFFFF',
        surface: '#F8F9FA',
        text: '#2C3E50',
        textSecondary: '#6C757D'
      },
      dark: {
        primary: '#ECF0F1',
        background: '#1A1A1A',
        surface: '#2D2D2D',
        text: '#ECF0F1',
        textSecondary: '#BDC3C7'
      }
    };

    this.currentTheme = this.getStoredTheme() || 'auto';
    this.themeChangeHandler = null;
  }

  init() {
    // ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–
    if (typeof wx.onThemeChange === 'function') {
      this.themeChangeHandler = ({ theme }) => {
        if (this.currentTheme === 'auto') {
          this.applyTheme(theme);
        }
      };
      wx.onThemeChange(this.themeChangeHandler);
    }

    // åº”ç”¨å½“å‰ä¸»é¢˜
    this.applyTheme(this.getCurrentTheme());
  }

  getCurrentTheme() {
    if (this.currentTheme === 'auto') {
      const systemInfo = wx.getSystemInfoSync();
      return systemInfo.theme || 'light';
    }
    return this.currentTheme;
  }

  applyTheme(themeName) {
    const theme = this.themes[themeName] || this.themes.light;

    // è®¾ç½®CSSå˜é‡
    const pages = getCurrentPages();
    if (pages.length > 0) {
      const currentPage = pages[pages.length - 1];
      currentPage.setData({
        theme: theme,
        themeName: themeName
      });
    }

    // ä¿å­˜åˆ°æœ¬åœ°
    wx.setStorageSync('theme', this.currentTheme);
  }

  setTheme(theme) {
    this.currentTheme = theme;
    this.applyTheme(this.getCurrentTheme());
  }

  offChange() {
    if (typeof wx.offThemeChange === 'function' && this.themeChangeHandler) {
      wx.offThemeChange(this.themeChangeHandler);
    }
    this.themeChangeHandler = null;
  }

  getStoredTheme() {
    try {
      return wx.getStorageSync('theme');
    } catch (error) {
      console.warn('è¯»å–ä¸»é¢˜ç¼“å­˜å¤±è´¥', error);
      return null;
    }
  }
}

export default new ThemeManager();
```

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### å•å…ƒæµ‹è¯•

#### å¦è±¡è®¡ç®—æµ‹è¯•
```javascript
// tests/divination.test.js
const DivinationCalculator = require('../utils/divination-algorithm');

describe('å¦è±¡è®¡ç®—æµ‹è¯•', () => {
  test('ä¹¾å¦è®¡ç®—', () => {
    // å…­æ¬¡ç»“æœéƒ½æ˜¯é˜³çˆ» (3ä¸ªæ­£é¢)
    const results = [
      [true, true, true], // ä¸‹å¦ç¬¬ä¸€çˆ»
      [true, true, true], // ä¸‹å¦ç¬¬äºŒçˆ»
      [true, true, true], // ä¸‹å¦ç¬¬ä¸‰çˆ»
      [true, true, true], // ä¸Šå¦ç¬¬ä¸€çˆ»
      [true, true, true], // ä¸Šå¦ç¬¬äºŒçˆ»
      [true, true, true]  // ä¸Šå¦ç¬¬ä¸‰çˆ»
    ];

    const hexagram = DivinationCalculator.calculateHexagram(results);

    expect(hexagram.guaName).toBe('ä¹¾');
    expect(hexagram.guaNumber).toBe(1);
    expect(hexagram.upperTrigram.name).toBe('ä¹¾');
    expect(hexagram.lowerTrigram.name).toBe('ä¹¾');
  });

  test('å¤å¦è®¡ç®—', () => {
    // å…­æ¬¡ç»“æœéƒ½æ˜¯é˜´çˆ» (0ä¸ªæ­£é¢)
    const results = [
      [false, false, false],
      [false, false, false],
      [false, false, false],
      [false, false, false],
      [false, false, false],
      [false, false, false]
    ];

    const hexagram = DivinationCalculator.calculateHexagram(results);

    expect(hexagram.guaName).toBe('å¤');
    expect(hexagram.guaNumber).toBe(2);
  });
});
```

### é›†æˆæµ‹è¯•

#### äº‘å‡½æ•°æµ‹è¯•
```javascript
// tests/cloud-function.test.js
const axios = require('axios');
const { main: getAIInterpretation } = require('../cloudfunctions/getAIInterpretation/index');

jest.mock('axios', () => ({
  post: jest.fn()
}));

describe('äº‘å‡½æ•°é›†æˆæµ‹è¯•ï¼ˆæœ¬åœ°æ¨¡æ‹Ÿï¼‰', () => {
  beforeEach(() => {
    axios.post.mockResolvedValue({
      data: {
        choices: [
          {
            message: { content: 'äº‹ä¸šå‘å±•ç¨³å¥ï¼Œæ³¨æ„èŠ‚å¥ã€‚' }
          }
        ]
      }
    });
  });

  test('AIè§£è¯»äº‘å‡½æ•°', async () => {
    const result = await getAIInterpretation({
      question: 'æˆ‘ä»Šå¹´çš„äº‹ä¸šè¿åŠ¿å¦‚ä½•ï¼Ÿ',
      hexagramData: {
        guaMark: '01.ä¹¾ä¸ºå¤©',
        guaTitle: 'å‘¨æ˜“ç¬¬1å¦',
        guaName: 'ä¹¾',
        guaNumber: 1,
        changingLines: []
      }
    }, { OPENID: 'test-openid' });

    expect(result.success).toBe(true);
    expect(result.data).toContain('äº‹ä¸š');
    expect(axios.post).toHaveBeenCalled();
  });
});
```

> æç¤ºï¼šäº‘å‡½æ•°è¿è¡Œåœ¨å¾®ä¿¡äº‘å¼€å‘ç¯å¢ƒä¸­ï¼Œä¸æä¾› `wx.*` APIã€‚å•å…ƒæµ‹è¯•æ—¶éœ€ä½¿ç”¨ Jest/ Vitest æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚å’Œæ•°æ®åº“è°ƒç”¨ï¼Œä¸Šè¿°ç¤ºä¾‹é€šè¿‡ `jest.mock('axios')` é¿å…çœŸå®è®¿é—® OpenAI æ¥å£ã€‚

### æ€§èƒ½æµ‹è¯•

#### åŠ¨ç”»æ€§èƒ½æµ‹è¯•
```javascript
// tests/performance.test.js
describe('æ€§èƒ½æµ‹è¯•', () => {
  test('ç¡¬å¸åŠ¨ç”»æ€§èƒ½', () => {
    const startTime = Date.now();

    // åˆ›å»ºåŠ¨ç”»
    const animation = wx.createAnimation({
      duration: 2000,
      timingFunction: 'ease-in-out'
    });

    const animData = animation.rotateY(1800).step().export();

    const endTime = Date.now();
    const duration = endTime - startTime;

    // åŠ¨ç”»åˆ›å»ºåº”è¯¥åœ¨10mså†…å®Œæˆ
    expect(duration).toBeLessThan(10);
    expect(animData).toBeDefined();
  });
});
```

---

## ğŸš€ éƒ¨ç½²ä¸å‘å¸ƒ

### æ„å»ºæµç¨‹

#### 1. ä»£ç æ£€æŸ¥
```bash
# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint

# è¿è¡Œæµ‹è¯•
npm test

# æ£€æŸ¥ä»£ç è¦†ç›–ç‡
npm run coverage
```

#### 2. äº‘å‡½æ•°éƒ¨ç½²
```bash
# éƒ¨ç½²æ‰€æœ‰äº‘å‡½æ•°
wxcloud functions deploy --all

# éƒ¨ç½²ç‰¹å®šäº‘å‡½æ•°
wxcloud functions deploy --name getAIInterpretation
```

#### 3. æ•°æ®åº“åˆå§‹åŒ–
```javascript
// è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
wx.cloud.callFunction({
  name: 'initDatabase'
});
```

```javascript
// cloudfunctions/initDatabase/index.js
const cloud = require('wx-server-sdk');

cloud.init();

exports.main = async () => {
  const db = cloud.database();
  const collections = await db.collection('divination-records').limit(1).get();

  if (collections.data.length === 0) {
    await db.collection('divination-records').add({
      question: 'ç¤ºä¾‹é—®é¢˜',
      createdAt: new Date(),
      notes: 'åˆå§‹åŒ–æ•°æ®'
    });
  }

  return { success: true };
};
```

### å‘å¸ƒæµç¨‹

#### 1. ç‰ˆæœ¬ç®¡ç†
```javascript
// app.json ä¸­é…ç½®ç‰ˆæœ¬
{
  "version": "1.0.0",
  "description": "AIç®—å¦å°ç¨‹åºæ­£å¼ç‰ˆ"
}
```

#### 2. æäº¤å®¡æ ¸
1. åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»"ä¸Šä¼ "
2. å¡«å†™ç‰ˆæœ¬ä¿¡æ¯
3. åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°æäº¤å®¡æ ¸
4. å‡†å¤‡å®¡æ ¸ææ–™:
   - åŠŸèƒ½è¯´æ˜æ–‡æ¡£
   - æµ‹è¯•è´¦å· (å¦‚æœéœ€è¦)
   - éšç§åè®®å’Œç”¨æˆ·åè®®

#### 3. å‘å¸ƒä¸Šçº¿
- å®¡æ ¸é€šè¿‡åç‚¹å‡»"å‘å¸ƒ"
- é…ç½®è®¿é—®ç­–ç•¥ (å…¨é‡å‘å¸ƒæˆ–åˆ†é˜¶æ®µå‘å¸ƒ)
- ç›‘æ§ä¸Šçº¿åçš„æ•°æ®è¡¨ç°

---

## ğŸ“Š è¿ç»´ä¸ç›‘æ§

### é”™è¯¯ç›‘æ§

#### å…¨å±€é”™è¯¯å¤„ç†
```javascript
// utils/error-monitor.js
class ErrorMonitor {
  init() {
    wx.onError(error => {
      this.reportError({
        type: 'javascript_error',
        message: error,
        stack: error.stack,
        page: this.getCurrentPage()
      });
    });

    wx.onUnhandledRejection(({ reason }) => {
      this.reportError({
        type: 'promise_rejection',
        message: reason,
        page: this.getCurrentPage()
      });
    });
  }

  reportError(errorInfo) {
    // å‘é€é”™è¯¯ä¿¡æ¯åˆ°ç›‘æ§æœåŠ¡
    wx.cloud.callFunction({
      name: 'reportError',
      data: errorInfo
    });
  }
}
```

### æ€§èƒ½ç›‘æ§

#### æ€§èƒ½æ•°æ®æ”¶é›†
```javascript
// utils/performance-monitor.js
class PerformanceMonitor {
  trackPageLoad(pageName) {
    const launchData = wx.getLaunchOptionsSync();
    const performanceData = {
      pageName,
      launchTime: Date.now(),
      launchScene: launchData.scene,
      systemInfo: wx.getSystemInfoSync()
    };

    this.reportPerformance(performanceData);
  }

  trackAPIResponse(apiName, duration, success) {
    this.reportPerformance({
      type: 'api_call',
      apiName,
      duration,
      success,
      timestamp: Date.now()
    });
  }

  reportPerformance(data) {
    wx.cloud.callFunction({
      name: 'reportPerformance',
      data
    });
  }
}
```

### æ•°æ®åˆ†æ

#### ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡
```javascript
// utils/analytics.js
class Analytics {
  trackDivination(question, hexagramResult) {
    this.trackEvent('divination_complete', {
      questionLength: question.length,
      hexagramName: hexagramResult.guaName,
      hexagramNumber: hexagramResult.guaNumber,
      hasChangingLines: hexagramResult.changingLines.length > 0
    });
  }

  trackAIInterpretation(responseTime, success) {
    this.trackEvent('ai_interpretation', {
      responseTime,
      success
    });
  }

  trackEvent(eventName, properties) {
    wx.cloud.callFunction({
      name: 'trackEvent',
      data: {
        eventName,
        properties,
        timestamp: Date.now(),
        openid: wx.getStorageSync('openid')
      }
    });
  }
}
```

---

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ

#### JavaScriptè§„èŒƒ
```javascript
// ä½¿ç”¨ES6+è¯­æ³•
// ä½¿ç”¨async/awaitå¤„ç†å¼‚æ­¥æ“ä½œ
// ç»Ÿä¸€ä½¿ç”¨const/letï¼Œé¿å…var
// å‡½æ•°å‘½åä½¿ç”¨é©¼å³°å‘½åæ³•
// å¸¸é‡ä½¿ç”¨å¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿

// å¥½çš„ç¤ºä¾‹
const MAX_RETRY_COUNT = 3;

async function getAIInterpretation(question, hexagramData) {
  try {
    const result = await wx.cloud.callFunction({
      name: 'getAIInterpretation',
      data: { question, hexagramData }
    });
    return result.result;
  } catch (error) {
    console.error('AIè§£è¯»å¤±è´¥:', error);
    throw error;
  }
}

// é¿å…çš„ç¤ºä¾‹
function getaiinterpretation(q, hd) {
  var result = wx.cloud.callFunction({...})
  return result.result
}
```

#### CSSè§„èŒƒ
```css
/* ä½¿ç”¨rpxå•ä½é€‚é…ä¸åŒå±å¹• */
/* ä½¿ç”¨è¯­ä¹‰åŒ–çš„ç±»å */
/* é¿å…è¿‡åº¦åµŒå¥— */
/* ä½¿ç”¨CSSå˜é‡ç®¡ç†ä¸»é¢˜ */

/* å¥½çš„ç¤ºä¾‹ */
.hexagram-container {
  display: flex;
  flex-direction: column;
  gap: 20rpx;
  padding: 40rpx;
}

.hexagram-line {
  width: 100%;
  height: 8rpx;
  background-color: var(--primary-color);
}

/* é¿å…çš„ç¤ºä¾‹ */
.view1 {
  display: flex;
  flex-direction: column;
}

.view1 .view2 .view3 {
  width: 100%;
  height: 4px;
  background: #333;
}
```

### Gitæäº¤è§„èŒƒ

#### æäº¤æ¶ˆæ¯æ ¼å¼
```
<type>(<scope>): <subject>

<body>

<footer>
```

#### ç±»å‹è¯´æ˜
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

#### ç¤ºä¾‹
```
feat(coin): æ·»åŠ ç¡¬å¸ç¿»è½¬åŠ¨ç”»

- å®ç°3Dç¡¬å¸ç¿»è½¬æ•ˆæœ
- æ·»åŠ éŸ³æ•ˆåé¦ˆ
- ä¼˜åŒ–åŠ¨ç”»æ€§èƒ½

Closes #123
```

### å®‰å…¨è§„èŒƒ

#### æ•°æ®å®‰å…¨
```javascript
// æ•æ„Ÿä¿¡æ¯ä¸åœ¨å‰ç«¯å­˜å‚¨
// APIå¯†é’¥åœ¨äº‘å‡½æ•°ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡
// ç”¨æˆ·æ•°æ®åŠ å¯†å­˜å‚¨
// é˜²æ­¢XSSæ”»å‡»

// å¥½çš„ç¤ºä¾‹
// äº‘å‡½æ•°ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡
const apiKey = process.env.OPENAI_API_KEY;

// æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨ï¼ˆåœ¨äº‘å‡½æ•°ä¸­ä½¿ç”¨Node.js cryptoï¼‰
const crypto = require('crypto');

function encryptSensitiveData(data) {
  const secret = Buffer.from(process.env.DATA_ENCRYPT_SECRET, 'hex');
  const iv = crypto.randomBytes(12);
  const cipher = crypto.createCipheriv('aes-256-gcm', secret, iv);
  const encrypted = Buffer.concat([
    cipher.update(JSON.stringify(data), 'utf8'),
    cipher.final()
  ]);
  const authTag = cipher.getAuthTag();

  return {
    iv: iv.toString('hex'),
    authTag: authTag.toString('hex'),
    payload: encrypted.toString('hex')
  };
}

// é¿å…çš„ç¤ºä¾‹
// å‰ç«¯ç›´æ¥å­˜å‚¨APIå¯†é’¥
const apiKey = 'sk-xxxxxxxxxxxxxxxx';

// æ˜æ–‡å­˜å‚¨ç”¨æˆ·æ•°æ®
wx.setStorageSync('userInfo', userData);
```

---

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### å¼€å‘è°ƒè¯•é—®é¢˜

#### 1. äº‘å‡½æ•°è°ƒç”¨å¤±è´¥
```javascript
// æ£€æŸ¥äº‘å¼€å‘ç¯å¢ƒæ˜¯å¦æ­£ç¡®åˆå§‹åŒ–
wx.cloud.init({
  env: 'your-env-id', // ç¡®ä¿ç¯å¢ƒIDæ­£ç¡®
  traceUser: true
});

// æ£€æŸ¥äº‘å‡½æ•°æ˜¯å¦æ­£ç¡®éƒ¨ç½²
wx.cloud.callFunction({
  name: 'test-function'
}).then(res => {
  console.log('äº‘å‡½æ•°è¿æ¥æ­£å¸¸');
}).catch(err => {
  console.error('äº‘å‡½æ•°è¿æ¥å¤±è´¥:', err);
});
```

#### 2. åŠ¨ç”»æ€§èƒ½é—®é¢˜
```javascript
// ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ
.coin {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

// é¿å…é¢‘ç¹çš„setDataæ“ä½œ
// æ‰¹é‡æ›´æ–°æ•°æ®
this.setData({
  coinResults: results,
  isFlipping: false,
  showResult: true
});
```

#### 3. å†…å­˜æ³„æ¼é¢„é˜²
```javascript
// é¡µé¢å¸è½½æ—¶æ¸…ç†èµ„æº
Page({
  onUnload() {
    // æ¸…ç†å®šæ—¶å™¨
    if (this.animationTimer) {
      clearInterval(this.animationTimer);
    }

    // æ¸…ç†ç›‘å¬å™¨
    this.themeManager && this.themeManager.offChange();

    // æ¸…ç†ç¼“å­˜
    this.cache && this.cache.clear();
  }
});
```

### å…¼å®¹æ€§é—®é¢˜

#### 1. ä¸åŒæœºå‹é€‚é…
```css
/* ä½¿ç”¨å®‰å…¨åŒºåŸŸé€‚é… */
.page {
  padding-bottom: constant(safe-area-inset-bottom);
  padding-bottom: env(safe-area-inset-bottom);
}

/* ä½¿ç”¨rpxå•ä½ */
.text {
  font-size: 32rpx; /* åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šä¿æŒç›¸åŒæ¯”ä¾‹ */
}
```

#### 2. åŸºç¡€åº“ç‰ˆæœ¬å…¼å®¹
```javascript
// æ£€æŸ¥APIå¯ç”¨æ€§
if (wx.onThemeChange) {
  // æ”¯æŒä¸»é¢˜ç›‘å¬
  wx.onThemeChange(callback);
} else {
  // ä½¿ç”¨æ—§çš„ä¸»é¢˜æ£€æµ‹æ–¹å¼
  const systemInfo = wx.getSystemInfoSync();
  // å¤„ç†æ—§ç‰ˆæœ¬å…¼å®¹
}
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

### å®˜æ–¹æ–‡æ¡£
- [å¾®ä¿¡å°ç¨‹åºå¼€å‘æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [äº‘å¼€å‘æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html)
- [OpenAI APIæ–‡æ¡£](https://platform.openai.com/docs/api-reference)

### æŠ€æœ¯åšå®¢
- [å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–å®è·µ](https://developers.weixin.qq.com/community/business/20211209105619799872)
- [äº‘å¼€å‘æœ€ä½³å®è·µ](https://developers.weixin.qq.com/community/business/20210810102539952564)

### å·¥å…·æ¨è
- [å°ç¨‹åºä»£ç ç‰‡æ®µ](https://developers.weixin.qq.com/miniprogram/dev/devtools/sandbox.html)
- [å°ç¨‹åºè®¾è®¡è§„èŒƒ](https://developers.weixin.qq.com/miniprogram/design/)
- [äº‘å¼€å‘æ§åˆ¶å°](https://console.cloud.tencent.com/tcb)

---

## ğŸ¯ æ€»ç»“

æœ¬å¼€å‘æŒ‡å¼•æ–‡æ¡£æä¾›äº†AIç®—å¦å°ç¨‹åºç§»æ¤çš„å®Œæ•´å¼€å‘æµç¨‹ï¼ŒåŒ…æ‹¬ç¯å¢ƒæ­å»ºã€åŠŸèƒ½å®ç°ã€æµ‹è¯•éƒ¨ç½²ç­‰å„ä¸ªç¯èŠ‚ã€‚å¼€å‘å›¢é˜Ÿå¯ä»¥æ ¹æ®è¿™ä¸ªæŒ‡å¼•è¿›è¡Œåˆ†é˜¶æ®µå¼€å‘ï¼Œç¡®ä¿é¡¹ç›®çš„é¡ºåˆ©äº¤ä»˜ã€‚

å…³é”®æˆåŠŸå› ç´ ï¼š
1. **ä¸¥æ ¼æŒ‰ç…§å¼€å‘è®¡åˆ’æ‰§è¡Œ**
2. **é‡è§†ä»£ç è´¨é‡å’Œæµ‹è¯•**
3. **åŠæ—¶è§£å†³æŠ€æœ¯éš¾é¢˜**
4. **ä¿æŒä¸åŸé¡¹ç›®çš„åŠŸèƒ½ä¸€è‡´æ€§**

é¢„ç¥é¡¹ç›®å¼€å‘é¡ºåˆ©ï¼ğŸš€
